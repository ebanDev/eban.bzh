<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <title>AdGuard Home La sécurité et la vie privée dans votre maison 🛡️</title>
  <meta name="keywords" content="AdGuard, privacy, adblock, network wide adblock" />
  <meta name="description" content="Dans ce nouvel article, nous allons traiter du logiciel open-source AdGuard Home qui est un bloqueur de publicités et de trackers qui intègre des fonctions supplémentaires telles que le DOH qui permet de chiffrer les requêtes DNS de votre réseau Wi-Fi !" />
  <meta property="og:title" content="AdGuard Home La sécurité et la vie privée dans votre maison 🛡️" />
  <meta property="og:url" content="https://eban.dev/blog/tutos/adguard-home-la-securite-et-la-vie-privee-dans-votre-maison" />
  <meta property="og:image" content="https://teqqy.de/wp-content/uploads/2019/01/adguard-home-dashboard-1180x590.jpg" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Eban's Blog" />
  <meta property="og:locale" content="fr_FR" />
  <meta name="twitter:site" content="@eban_non" />
  <link rel="stylesheet" href="../css/index.css">
</head>
<body>
<div class="header">
<div class="nav">
<a href="https://eban.dev/blog/">ACCUEIL</a><a href="https://eban.dev/blog/contact.html">CONTACT</a><a href="https://eban.dev/blog/about.html">A PROPOS</a>
</div>
<h1>
Eban’s Blog
</h1>
</div>
<section id="adguard-home-la-sécurité-et-la-vie-privée-dans-votre-maison" class="article-list">
<h1>AdGuard Home : La sécurité et la vie privée dans votre maison 🛡️</h1>
<p>Dans ce nouvel article, nous allons traiter du logiciel open-source AdGuard Home qui est un bloqueur de publicités et de trackers qui intègre des fonctions supplémentaires telles que le DOH qui permet de chiffrer les requêtes DNS de votre réseau Wi-Fi !</p>
<h2 id="a-quoi-bon">A quoi bon ?</h2>
<p>Il est vrai que l’on pourrait se demander à quoi pourrait servir un tel outil… Laissez moi vous expliquer : quand vous possédez un appareil connecté à Internet (téléphone, tablette, ordinateur, etc.), des trackers espionnent votre activité afin de revendre des données à des annonceurs leur permettant ainsi de faire de la publicité ciblée. Ces données peuvent révéler beaucoup sur vous, tel que par exemple votre localisation, votre situation familiale, votre état de santé, etc. C’est pourquoi il est très important de se protéger de ces trackers. J’ai moi-meme installé ce logiciel et voici, en 24H le nombre de publicités et de trackers bloqués avec seulement 3 appareils connectés sur le même réseau :</p>
<p><img src="https://i.postimg.cc/NjYnss13/Capture-d-cran-de-2020-05-09-15-48-28.png" /></p>
<p>Comme vous voyez ci-dessus, en 24h, 5 230 requêtes ont été effectuées(puis bloquées) ! Dont 415 à destination des serveurs de Facebook et 604 à ceux de Google !</p>
<h2 id="prérequis">Prérequis</h2>
<p>Pour ce tutoriel, vous aurez besoin :</p>
<p>• D’un Raspberry Pi disposant d’un module WiFi<br />
• D’un câble RJ45 (Ethernet)</p>
<p>Et c’est tout !</p>
<h2 id="tutoriel">Tutoriel</h2>
<p>Dans ce tutoriel nous allons donc voir l’installation de RaspAP qui permet de faire un point d’accès wifi à partir d’un cable Ethernet branché au Raspberry Pi puis nous verrons l’installation de AdGuard Home ainsi que l’activation de la compatibilité avec le DOH (DNS over HTTPS qui permet de chiffrer vos requetes DNS) et en bonus, l’installation et la mise en place d’un VPN respectueux de la vie privée de ses utilisateurs (ProtonVPN) sur tout le réseau de votre domicile.</p>
<p><strong>1) Installation de RaspAP</strong></p>
<p>Pour débuter l’installation de RaspAP, effectuez la commande suivante sur votre Raspberry Pi</p>
<blockquote>
<p>sudo apt update &amp;&amp; sudo apt upgrade -y &amp;&amp; wget -q <a href="https://git.io/voEUQ">https://git.io/voEUQ</a> -O /tmp/raspap &amp;&amp; bash /tmp/raspap</p>
</blockquote>
<p>L’installateur va s’ouvrir, il vous demande d’abord dans quel répertoire vous souhaitez installer RaspAP à moins que vous ne souhaitez le changer, laissez le répertoire de base, répondre oui à tout (y) sauf au moment où il vous sera proposé d’installer le bloqueur de publicités, nous n’utiliserons pas celui intégré à RaspAP car il est moins performant que AdGuard Home.</p>
<p><img src="https://i.postimg.cc/gkfgjY3z/raspap-02.png" /></p>
<p>À la dernière étape, l’installateur vous demandera si vous souhaitez redémarrer le Raspberry Pi, répondez oui.<br />
Une fois votre Raspberry Pi redémarré, vous pourrez vous rendre sur l’interface web de votre Raspberry Pi, à noter que les identifiants de connexi sont “admin”/“secret”. Pour y accéder, tapez juste l’adresse IP locale de votre Raspberry Pi dans votre navigateur, et depuis cette interface, vous pourrez change le SSID (nom du réseau), les informations de connexion, etc. Nous avons donc finit d’installer RaspAP, aucune configuration de ce dernier n’est nécessaire pour l’instant.</p>
<p><strong>2) Installation de AdGuard Home</strong></p>
<p>Pour commencer l’installation de AdGuard Home, entrez la commande suivante sur votre Raspberry Pi</p>
<blockquote>
<p>wget <a href="https://static.adguard.com/adguardhome/release/AdGuardHome_linux_arm.tar.gz">https://static.adguard.com/adguardhome/release/AdGuardHome_linux_arm.tar.gz</a> &amp;&amp; tar -xf AdGuardHome_linux_arm.tar.gz &amp;&amp; cd AdGuardHome &amp;&amp; sudo ./AdGuardHome -s install</p>
</blockquote>
<p>Rendez-vous ensuite sur l’interface d’installation qui se situe à l’adresse.</p>
<p><code>http://IPLOCALEDEMONRASPBERRYPI:3000</code></p>
<p>Après avoir cliqué sur “C’est parti”, dans la partie “Interface web administrateur”, laissez “Toutes les interfaces” et changez le port pour, disons par exemple, 1234. Dans la partie “Serveur DNS”, choisissez 127.0.0.1 à la place de “Toutes les interfaces” et mettez 5300 dans la case port.</p>
<p><img src="https://i.postimg.cc/cCDkJw06/ad-guard.png" /></p>
<p>Cliquez sur le bouton Suivant puis renseignez vos informations de connexion à l’interface d’administration</p>
<p><img src="https://i.postimg.cc/bYDjGw4W/Screenshot-2020-05-09-Setup-Ad-Guard-Home.png" /></p>
<p>Une fois cela fait, cliquez sur Suivant puis “ouvrir le Tableau de bord”, entrez vos identifiants de connexions puis allez dans la section Filtres puis Listes de blocage DNS. Cochez toutes les cases et ajoutez la liste :</p>
<p><code>"https://raw.githubusercontent.com/hl2guide/Filterlist-for-AdGuard/master/filter_blocklist.txt"</code></p>
<p>en cliquant sur la bouton Ajouter liste de blocage.</p>
<p><img src="https://i.postimg.cc/fR6dNyns/Screenshot-2020-05-09-Ad-Guard-Home.png" /></p>
<p>Pour finaliser l’installation, rendez-vous sur l’interface d’administration de RaspAP, les identifiants de connexion sont par défaut “admin”/“secret”. Puis dans la section DHCP server, cliquez sur Advanced, puis cochez la case " Only ever query DNS servers configured below“. Renseignez ensuite”127.0.0.1#5300" dans la case Add upstream DNS server, puis cliquez sur le bouton +</p>
<p><img src="https://i.postimg.cc/8Pdk5C6D/Screenshot-2020-05-09-Rasp-AP-Wi-Fi-Configuration-Portal.png" /></p>
<p>Pour finir, redémarrez le Point D’accès en cliquant sur le bouton Restart hotspot dans la section “Hotspot”. Et voilà ! L’installation de RaspAP et de AdGuard Home est terminée !</p>
<p><strong>3) Bonus : Mise en place du DOH ainsi que d’un VPN</strong></p>
<p>Pour mettre en place le DOH, allez sur l’interface d’administration de AdGuard Home puis dans paramètres, paramètres DNS, renseignez le DOH de votre choix, dans mon cas, j’ai choisi</p>
<p><code>https://doh.powerdns.org/</code></p>
<p><img src="https://i.postimg.cc/gJ5jvBzW/Screenshot-2020-05-09-Ad-Guard-Home-1.png" /></p>
<p>Vos requêtes DNS sont maintenant chiffrées ! Pour mettre en place le VPN, connectez-vous en SSH à votre Raspberry Pi puis effectuez la commande :</p>
<blockquote>
<p>sudo apt install -y openvpn dialog python3-pip python3-setuptools &amp;&amp; sudo pip3 install protonvpn-cli &amp;&amp; sudo protonvpn init</p>
</blockquote>
<p>Suivez l’installateur, à l’étape où vous devez choisir quel protocole utiliser, choisissez TCP, une fois l’installation terminée, entrez la commande</p>
<blockquote>
<p>sudo protonvpn c -f</p>
</blockquote>
<h2 id="conclusion">Conclusion</h2>
<p>Et voilà ! C’est terminé, vous pouvez maintenant naviguer sur internet sans publicités ni trackeurs ! Veillez à bien modifier le mot de passe ainsi que le SSID de votre réseau wifi ! Vous n’avez plus qu’à connecter tout les appareils de votre maison au nouveau réseau Wi-Fi et ils seront protégés à leur tour ? Si vous avez des questions, n’hésitez pas à me contacter sur twitter <span class="citation" data-cites="eban_non">@eban_non</span> ou par mail ebandev@protonmail.com. Merci à Azgar de m’avoir aidé pour la relecture</p>
</section>
</body>
</html>
